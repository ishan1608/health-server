<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="description" content="This is the web interface for the health keeper app.">
        <meta name="author" content="Ishan">
        <!-- <link rel="icon" href="../../favicon.ico">-->
        <title>HealthKeeper - {{useremail}}</title>
        <!-- Bootstrap core CSS -->
        <link href="../css/bootstrap.css" rel="stylesheet">

        <!-- Custom styles for this template -->
        <link href='http://fonts.googleapis.com/css?family=Ubuntu:300' rel='stylesheet' type='text/css'>
        <link href="../css/dash.css" rel="stylesheet" type="text/css">

        <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
          <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
          <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
        <![endif]-->
    </head>
    <body>
        <header id="header-main" class="navbar navbar-inverse navbar-fixed-top">
            <a href="/" class="nav-title navbar-brand">Health Keeper</a>
            <div class="dropdown pull-right settings-menu signout-menu" >
                <img id="signout-menu" data-toggle="dropdown" src="../img/bluemanm.png"/>
                <div class="dropdown-menu" aria-labelledby="signout-menu">
                    <a class="btn btn-large btn-danger pull-right" href="/logout">Sign Out</a><br/>
                    <input class="btn btn-large btn-warning pull-right" id="logout-others-button" type="Button" value="Log out other sessions"/>
                </div>
            </div>
            <div class="dropdown pull-right navbar-brand" >
                <span id="theme-menu" data-toggle="dropdown" class="glyphicon glyphicon-cog" aria-hidden="true"></span>
                <div id="theme-panel" class="dropdown-menu container" aria-labelledby="theme-menu" style="width: 20px;">
                    <div class="row" style="margin-left: 5px;">
                        <div title="Gray" class="col-xs-6 theme-element gray-theme" onclick="themeSelector('gray');"></div>
                        <div title="Orange" class="col-xs-6 theme-element orange-theme" onclick="themeSelector('orange');"></div>
                        <div title="Green" class="col-xs-6 theme-element green-theme" onclick="themeSelector('green');"></div>
                        <div title="Cordovan" class="col-xs-6 theme-element cordovan-theme" onclick="themeSelector('cordovan');"></div>
                    </div>
                    <div class="row" style="margin-left: 5px;">
                        <div title="Pink" class="col-xs-6 theme-element pink-theme" onclick="themeSelector('pink');"></div>
                        <div title="Dark Red" class="col-xs-6 theme-element dark-red-theme" onclick="themeSelector('dark-red');"></div>
                        <div title="Dark Orange" class="col-xs-6 theme-element dark-orange-theme" onclick="themeSelector('dark-orange');"></div>
                        <div title="Light Green" class="col-xs-6 theme-element light-green-theme" onclick="themeSelector('light-green');"></div>
                    </div>
                </div>
            </div>
        </header>
        <div class="container-fluid" style="border-top: 1px solid #000;">
            <div class="row">
                <div id="side-bar" class="col-sm-3 col-md-2 sidebar gray-theme">
                    <ul class="nav nav-pills nav-stacked">
                        <li role="presentation" class="active"><a href="#">Home</a></li>
                        <li role="presentation"><a href="#">Profile</a></li>
                        <li role="presentation"><a href="#">Messages</a></li>
                    </ul>
                </div>
                <div id="main-area" class="col-sm-9 col-sm-offset-3 col-md-10 col-md-offset-2 main gray-theme">
                </div>
            </div>
        </div>
<!--
        <header id="header-main">
            <a href="/" class="nav-title">Health Keeper</a>
            <div id="settings-panel">
                <div class="dropdown settings-menu">
                    <img id="theme-menu" src="../img/cogwheel.png" data-toggle="dropdown"/>
                    <div class="dropdown-menu dropdown-menu-right" aria-labelledby="theme-menu">
                        <p>My Zombie Ipsum</p>
                    </div>
                </div>
                <img class="settings-menu signout-menu" src="../img/bluemanm.png"/>
            </div>
        </header>
-->
<!--
        <section id="content-main">
            <nav id="nav-bar">
                <p>sdakhfffffffffffj</p>
                <p>sdakhfffffffffffj</p>
                <p>sdakhfffffffffffj</p>
                <p>sdakhfffffffffffj</p>
                <p>sdakhfffffffffffj</p>
                <p>sdakhfffffffffffj</p>
                <nav id="logout-panel">
                    <a href="/logout">Sign Out</a><br/>
                    <input id="logout-others-button" type="Button" value="Log out other sessions"/>
                </nav>
            </nav>
            <section id="content-area">
                <p>Welcome {{useremail}}</p>
                <div class="dropdown">
                    <button type="button" id="dropdownMenu1" data-toggle="dropdown">Dropdown</button>
                    <div class="dropdown-menu" aria-labelledby="dropdownMenu1">
                        <p>My Zombie Ipsum</p>
                    </div>
                </div>
            </section>
        </section>
-->
        <!-- Bootstrap core JavaScript
        ================================================== -->
        <!-- Placed at the end of the document so the pages load faster -->
        <script src="../js/jquery-1.11.2.js"></script>
        <script src="../js/bootstrap.js"></script>
        <script src="../js/docs.js"></script>
        <!-- My very own custom javascript.-->
        <script>
            // XHR for logging out
            function logoutOthersListener () {
              alert('Other sessions logged out.');
            }

            // Button click handling
            var logoutOthersButton = document.getElementById("logout-others-button");
            logoutOthersButton.onclick = function() {
                var logoutOthersXHR = new XMLHttpRequest();
                logoutOthersXHR.onload = logoutOthersListener;
                logoutOthersXHR.open("get", "/logoutothers", true);
                logoutOthersXHR.send();
            }
            
            // Theme chooser
            function themeSelector(theme_color) {
                // Removing theme
                $('#side-bar').removeClass('gray-theme orange-theme cordovan-theme green-theme pink-theme dark-red-theme dark-orange-theme light-green-theme');
                $('#main-area').removeClass('gray-theme orange-theme cordovan-theme green-theme pink-theme dark-red-theme dark-orange-theme light-green-theme');
                $('#header-main').removeClass('gray-theme orange-theme cordovan-theme green-theme pink-theme dark-red-theme dark-orange-theme light-green-theme');
                
                switch(theme_color) {
                        case 'orange':
                            $('#side-bar').addClass('orange-theme');
                            $('#main-area').addClass('orange-theme');
                            $('#header-main').addClass('orange-theme');
                        break;
                        case 'green':
                            $('#side-bar').addClass('green-theme');
                            $('#main-area').addClass('green-theme');
                            $('#header-main').addClass('green-theme');
                        break;
                        case 'cordovan':
                            $('#side-bar').addClass('cordovan-theme');
                            $('#main-area').addClass('cordovan-theme');
                            $('#header-main').addClass('cordovan-theme');
                        break;
                        case 'pink':
                            $('#side-bar').addClass('pink-theme');
                            $('#main-area').addClass('pink-theme');
                            $('#header-main').addClass('pink-theme');
                            
                        break;
                        case 'dark-red':
                            $('#side-bar').addClass('dark-red-theme');
                            $('#main-area').addClass('dark-red-theme');
                            $('#header-main').addClass('dark-red-theme');
                        break;
                        case 'dark-orange':
                            $('#side-bar').addClass('dark-orange-theme');
                            $('#main-area').addClass('dark-orange-theme');
                            $('#header-main').addClass('dark-orange-theme');
                        break;
                        case 'light-green':
                            $('#side-bar').addClass('light-green-theme');
                            $('#main-area').addClass('light-green-theme');
                            $('#header-main').addClass('light-green-theme');
                        break;
                        default:
                            $('#side-bar').addClass('gray-theme');
                            $('#main-area').addClass('gray-theme');
                            $('#header-main').addClass('gray-theme');
                        break;
                }
            }
        </script>
    </body>
</html>